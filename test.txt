+ CXX src/kernel/syscall.c
riscv64-unknown-elf-ld -z max-page-size=4096 -T /home/boneinscri/HDU/Êìç‰ΩúÁ≥ªÁªüDIY/com7/os_test/scripts/kernel.ld -o _kernel build/src/kernel/asm/entry.o build/src/platform/qemu/virtio_disk.o build/src/atomic/spinlock.o build/src/atomic/sleeplock.o build/src/fs/sysfile.o build/src/fs/log.o build/src/fs/file.o build/src/fs/fs.o build/src/kernel/console.o build/src/kernel/cpu.o build/src/kernel/ctype.o build/src/kernel/asm/kernelvec.o build/src/kernel/asm/trampoline.o build/src/kernel/asm/swtch.o build/src/kernel/main.o build/src/kernel/kcsan.o build/src/kernel/string.o build/src/kernel/syscallnew.o build/src/kernel/syscall.o build/src/kernel/trap.o build/src/kernel/sprintf.o build/src/kernel/printf.o build/src/kernel/sysproc.o build/src/mm/kalloc.o build/src/mm/vm.o build/src/mm/buddy.o build/src/mm/bio.o build/src/driver/plic.o build/src/driver/uart.o build/src/proc/sched.o build/src/proc/fmutex.o build/src/proc/semaphore.o build/src/proc/pcb_life.o build/src/proc/pcb_thread.o build/src/proc/pipe.o build/src/proc/signal.o build/src/proc/cond.o build/src/proc/exec.o build/src/proc/wait_queue.o build/src/proc/pcb_mm.o build/src/test/printtest.o build/src/test/proctest.o 
[33mbuild user:[0m
make[1]: Entering directory '/home/boneinscri/HDU/Êìç‰ΩúÁ≥ªÁªüDIY/com7/os_test/xv6_user'
+ CXX src/grind.c
+ CXX src/forkforkfork.c
+ CXX src/usertests.c
+ CXX src/reparent.c
+ CXX src/forkfork.c
[33mbuild user lib:[0m
make[2]: Entering directory '/home/boneinscri/HDU/Êìç‰ΩúÁ≥ªÁªüDIY/com7/os_test/xv6_user/lib'
+ AR -> lib.a
make[2]: Leaving directory '/home/boneinscri/HDU/Êìç‰ΩúÁ≥ªÁªüDIY/com7/os_test/xv6_user/lib'
make[1]: Leaving directory '/home/boneinscri/HDU/Êìç‰ΩúÁ≥ªÁªüDIY/com7/os_test/xv6_user'
nmeta 46 (boot, super, log blocks 30 inode blocks 13, bitmap blocks 1) blocks 1954 total 2000
balloc: first 628 blocks have been allocated
balloc: write bitmap block at sector 45
qemu-system-riscv64 -machine virt -bios bootloader/sbi-qemu -kernel _kernel -m 128M -smp 3 -nographic -global virtio-mmio.force-legacy=false -drive file=fs.img,if=none,format=raw,id=x0 -device virtio-blk-device,drive=x0,bus=virtio-mmio-bus.0
[rustsbi] RustSBI version 0.2.1, adapting to RISC-V SBI v0.3
.______       __    __      _______.___________.  _______..______   __
|   _  \     |  |  |  |    /       |           | /       ||   _  \ |  |
|  |_)  |    |  |  |  |   |   (----`---|  |----`|   (----`|  |_)  ||  |
|      /     |  |  |  |    \   \       |  |      \   \    |   _  < |  |
|  |\  \----.|  `--'  |.----)   |      |  |  .----)   |   |  |_)  ||  |
| _| `._____| \______/ |_______/       |__|  |_______/    |______/ |__|

[rustsbi] Implementation: RustSBI-QEMU Version 0.1.0
[rustsbi-dtb] Hart count: cluster0 with 3 cores
[rustsbi] misa: RV64ACDFIMSU
[rustsbi] mideleg: ssoft, stimer, sext (0x222)
[rustsbi] medeleg: ima, ia, bkpt, la, sa, uecall, ipage, lpage, spage (0xb1ab)
[rustsbi] pmp0: 0x10000000 ..= 0x10001fff (rw-)
[rustsbi] pmp1: 0x2000000 ..= 0x200ffff (rw-)
[rustsbi] pmp2: 0xc000000 ..= 0xc3fffff (rw-)
[rustsbi] pmp3: 0x80000000 ..= 0x8fffffff (rwx)
[rustsbi] enter supervisor 0x80200000

xv6 kernel is booting

[1;35m[/home/boneinscri/HDU/Êìç‰ΩúÁ≥ªÁªüDIY/com7/os_test/src/mm/buddy.c,43,mm_init] pagemeta_start 80227000[0m
[1;35m[/home/boneinscri/HDU/Êìç‰ΩúÁ≥ªÁªüDIY/com7/os_test/src/mm/buddy.c,44,mm_init] NPAGES: 31744[0m
[1;35m[/home/boneinscri/HDU/Êìç‰ΩúÁ≥ªÁªüDIY/com7/os_test/src/mm/buddy.c,45,mm_init] PAGES PER CPU: 10581[0m
[1;35m[/home/boneinscri/HDU/Êìç‰ΩúÁ≥ªÁªüDIY/com7/os_test/src/mm/buddy.c,105,init_buddy] memsize: 41[0m
[1;35m[/home/boneinscri/HDU/Êìç‰ΩúÁ≥ªÁªüDIY/com7/os_test/src/mm/buddy.c,105,init_buddy] memsize: 41[0m
[1;35m[/home/boneinscri/HDU/Êìç‰ΩúÁ≥ªÁªüDIY/com7/os_test/src/mm/buddy.c,105,init_buddy] memsize: 41[0m
hart 1 starting
hart 2 starting
init: starting sh
[1;31mfork : 1 -> 2
[0m$ forkforkfork
[1;31mfork : 2 -> 3
[0m[1;31mfork : 3 -> 4
[0m[1;31mfork : 4 -> 5
[0m[1;31mfork : 4 -> 6
[0m[1;31mfork : 5 -> 7
[0m[1;31mfork : 4 -> 8
[0m[1;31mfork : 6 -> 9
[0m[1;31mfork : 5 -> 10
[0m[1;31mfork : 7 -> 11
[0m[1;31mfork : 6 -> 12
[0m[1;31mfork : 5 -> 13
[0m[1;31mfork : 4 -> 14
[0m[1;31mfork : 6 -> 15
[0m[1;31mfork : 7 -> 16
[0m[1;31mfork : 4 -> 17
[0m[1;31mfork : 5 -> 18
[0m[1;31mfork : 7 -> 19
[0m[1;31mfork : 6 -> 20
[0m[1;31mfork : 4 -> 21
[0m[1;31mfork : 5 -> 22
[0m[1;31mfork : 6 -> 23
[0m[1;31mfork : 4 -> 24
[0m[1;31mfork : 5 -> 25
[0m[1;31mfork : 7 -> 26
[0m[1;31mfork : 4 -> 27
[0m[1;31mfork : 6 -> 28
[0m[1;31mfork : 5 -> 29
[0m[1;31mfork : 4 -> 30
[0m[1;31mfork : 7 -> 31
[0m[1;31mfork : 5 -> 32
[0mreparent : 4 is going to exit and reparent its children
reparent : 5 -> initproc
reparent : 6 -> initproc
reparent : 8 -> initproc
reparent : 14 -> initproc
reparent : 17 -> initproc
reparent : 21 -> initproc
reparent : 24 -> initproc
reparent : 27 -> initproc
reparent : 30 -> initproc
reparent : 30 -> initproc
reparent : 2 -> initproc
[1;32mexit : 4 has exited
[0m[1;32mexit : 4 wakeup 3
[0mreparent : 6 is going to exit and reparent its children
reparent : 9 -> initproc
reparent : 12 -> initproc
reparent : 15 -> initproc
reparent : 20 -> initproc
reparent : 23 -> initproc
reparent : 28 -> initproc
reparent : 28 -> initproc
reparent : 2 -> initproc
reparent : 5 is going to exit and reparent its children
reparent : 7 -> initproc
reparent : 10 -> initproc
reparent : 13 -> initproc
reparent : 18 -> initproc
[1;32mexit : 6 has exited
[0m[1;32mexit : 6 wakeup 1
[0mreparent : 22 -> initproc
reparent : 25 -> initproc
reparent : 29 -> initproc
reparent : 32 -> initproc
reparent : 32 -> initproc
reparent : 2 -> initproc
[1;32mexit : 5 has exited
[0m[1;32mexit : 5 wakeup 1
[0m[1;34mwait : 1 wakeup
[0mpanic: ====
QEMU: Terminated
